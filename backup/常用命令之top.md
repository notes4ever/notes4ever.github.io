![image](https://github.com/user-attachments/assets/d16f8864-8a3e-481f-aeb0-b2ab52759b18)

> **与 ps 命令相似，top 命令也可以显示进程信息，但采用的是实时方式。top与htop是很常用的命令，关于top的主要用法与理解，在此记录。**

输出的第一部分显示的是系统概况：

第一行显示了当前时间、系统的运行时长、登录的用户数以及系统的平均负载。

平均负载有 3 个值，分别是最近 1 分钟、最近 5 分钟和最近 15 分钟的平均负载。值越大说明系统的负载越高。由于进程短期的突发性活动，出现最近 1 分钟的高负载值也很常见。但如果近 15 分钟内的平均负载都很高，就说明系统可能有问题了。

Linux 系统管理的难点在于定义究竟到什么程度才算是高负载。这个值取决于系统的硬件配置以及系统中通常运行的程序。某个系统的高负载可能对其他系统来说就是普通水平。最好的做法是注意在正常情况下系统的负载情况，这样将更容易判断系统何时负载不足。

第二行显示了进程（top 称其为 task）概况：多少进程处于运行、休眠、停止以及僵化状态 （僵化状态指进程已结束，但其父进程没有响应）。 

下一行显示了 CPU 概况。

top 会根据进程的属主（用户或是系统）和进程的状态（运行、 空闲或等待）将 CPU 利用率分成几类输出。 

紧跟其后的两行详细说明了系统内存的状态。

前一行显示了系统的物理内存状态：总共有多少内存、当前用了多少，以及还有多少空闲。后一行显示了系统交换空间（如果分配了的话）的状态。

最后一部分显示了当前处于运行状态的进程的详细列表，有些列跟 ps 命令的输出类似。

主要参数解释：

```
PID：进程的 PID。
USER：进程属主的用户名。
PR：进程的优先级。
NI：进程的谦让度。
VIRT：进程占用的虚拟内存总量。
RES：进程占用的物理内存总量。
SHR：进程和其他进程共享的内存总量。
S：进程的状态（D 代表可中断的休眠，R 代表运行，S 代表休眠，T 代表被跟踪或停止， Z 代表僵化 ）。 
%CPU：进程使用的 CPU 时间比例。
%MEM：进程使用的可用物理内存比例。 
TIME+：自进程启动到目前为止所占用的 CPU 时间总量。
COMMAND：进程所对应的命令行名称，也就是启动的程序名。
```

在默认情况下，top 命令在启动时会按照%CPU 值来对进程进行排序，你可以在 top 命令运行时使用多种交互式命令来重新排序。

每个交互式命令都是单字符，在 top 命令运行时键入可改变 top 的行为。

键入 f 允许你选择用于对输出进行排序的字段，键入 d 允许你修改轮询间隔 （polling interval），键入 q 可以退出 top。

用户对 top 命令输出有很大的控制权。利用该工具， 你经常能找出占用系统大量资源的罪魁祸首。


主要参数的其他解释：

![image](https://github.com/user-attachments/assets/f5a1f78c-49ad-4cd6-b4d4-6666a5a37921)


